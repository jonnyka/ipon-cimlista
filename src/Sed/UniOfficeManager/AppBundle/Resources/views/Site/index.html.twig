{% extends 'SedUniOfficeManagerAppBundle:Default:base.html.twig' %}
{% block body %}
    <div class="container">
        <div class="row span11">
            <h2>{% trans %}sed_uniofficemanager_app_bundle.site.sites{% endtrans %}</h2>
        </div>

        <div class="row span11">
            <a class="btn btn-success pull-left" href="{{ path('site_new') }}">
                {% trans %}sed_uniofficemanager_app_bundle.site.siteCreate{% endtrans %}
            </a>
        </div>

        <div class="row span14">
            <table class="table table-hover table-bordered">
                <thead>
                <tr>
                    <th class="span2 info">{% trans %}sed_uniofficemanager_app_bundle.site.gitrepo{% endtrans %}</th>
                    <th class="span2 info">{% trans %}sed_uniofficemanager_app_bundle.site.port{% endtrans %}</th>
                    <th class="span2 info">{% trans %}sed_uniofficemanager_app_bundle.site.name{% endtrans %}</th>
                    <th class="span2 info">{% trans %}sed_uniofficemanager_app_bundle.site.title{% endtrans %}</th>
                    <th class="span2 info">{% trans %}sed_uniofficemanager_app_bundle.site.directory{% endtrans %}</th>
                    <th class="span2 info">{% trans %}sed_uniofficemanager_app_bundle.site.updated{% endtrans %}</th>
                    <th class="span1 info"></th>
                </tr>
                </thead>
                {% for site in sites %}
                    <tr>
                        <td>{{ site.gitrepo }}</td>
                        <td>{{ site.port }}</td>
                        <td>{{ site.name }}</td>
                        <td>{{ site.title }}</td>
                        <td>{{ site.directory }}</td>
                        <td>{{ site.lastUpdated ? site.lastUpdated|date('Y-m-d H:i:s') : '-' }}</td>
                        <td>
                            <a href="{{ path('site_edit', {id: site.id}) }}">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                            </a>
                            <a href="{{ path('update_site', {id: site.id}) }}">
                                <span class="glyphicon glyphicon-wrench pull-right" aria-hidden="true"></span>
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts
    '@SedUniOfficeManagerAppBundle/Resources/public/js/site.js' %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}